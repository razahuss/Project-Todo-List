(()=>{"use strict";class e{constructor(e,t){this.description=e,this.dueDate=t}get getDescription(){return this.description}get getDueDate(){return this.dueDate}set setDescription(e){this.description=e}set setDueDate(e){this.dueDate=e}}const t=(t,n,d)=>{t.innerHTML="";const c=document.createElement("p");c.innerHTML=n,t.appendChild(c);const i=document.createElement("div");t.appendChild(i);const a=document.createElement("button");a.innerHTML="+Add Task",a.addEventListener("click",(()=>{l()})),t.appendChild(a);const o=document.createElement("div");t.appendChild(o);const r=e=>{i.innerHTML="";for(let t=0;t<e.length;t++){let n=document.createElement("div");n.classList.add("item"),n.innerHTML=e[t].getDescription+"   "+e[t].getDueDate,n.classList.add("list-item"),i.appendChild(n),n.addEventListener("click",(()=>{let e=d.indexOf(d[t]);d.splice(e,1),r(d),console.log("removed")}))}};r(d);const l=()=>{o.innerHTML="";const t=document.createElement("form");o.appendChild(t);const n=document.createElement("input");n.setAttribute("type","text"),t.appendChild(n);const c=document.createElement("input");c.setAttribute("type","date"),t.appendChild(c);const i=document.createElement("button");i.innerHTML="add",i.addEventListener("click",(t=>{(t=>{let i=n.value,a=c.value,l=new e(i,a);d.push(l),console.log(d),o.innerHTML="",r(d),t.preventDefault()})(t)})),t.appendChild(i)}},n=e=>{const t=new Date;return e.getDate()==t.getDate()&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()},d=e=>{const t=new Date,n=t.getDate(),d=t.getDay(),c=new Date(t.setDate(n-d)),i=new Date(c);return i.setDate(i.getDate()+6),e>=c&&e<=i};let c=[];const i=document.querySelector(".container"),a=document.querySelector(".container"),o=document.querySelector(".projects"),r=document.querySelector(".formParentDiv"),l=[];document.getElementById("inbox").addEventListener("click",(()=>{t(a,"Inbox",l)})),document.getElementById("today").addEventListener("click",(()=>{((e,t,d)=>{e.innerHTML="";const c=document.createElement("p");c.innerHTML="Today",e.appendChild(c);const i=document.createElement("div");e.appendChild(i),i.innerHTML="";for(let e=0;e<d.length;e++)if(console.log(d[e].getDueDate),n(new Date(d[e].getDueDate+"T00:00:00"))){let t=document.createElement("div");t.classList.add("item"),t.innerHTML=d[e].getDescription+"   "+d[e].getDueDate,i.appendChild(t)}})(a,0,l)})),document.getElementById("week").addEventListener("click",(()=>{((e,t,n)=>{e.innerHTML="";const c=document.createElement("p");c.innerHTML="Week",e.appendChild(c);const i=document.createElement("div");e.appendChild(i),i.innerHTML="";for(let e=0;e<n.length;e++)if(console.log(n[e].getDueDate),d(new Date(n[e].getDueDate+"T00:00:00"))){let t=document.createElement("div");t.classList.add("item"),t.innerHTML=n[e].getDescription+"   "+n[e].getDueDate,i.appendChild(t)}})(a,0,l)})),document.getElementById("add-project").addEventListener("click",(()=>{((e,n)=>{e.innerHTML="";const d=document.createElement("form");e.appendChild(d);const a=document.createElement("input");a.setAttribute("type","text"),d.appendChild(a);const o=document.createElement("button");o.innerHTML="Add",d.appendChild(o),o.addEventListener("click",(d=>{const o=document.createElement("button");o.innerHTML=a.value;const r=[];o.addEventListener("click",(()=>{t(i,a.value,r)}));const l=document.createElement("button");l.innerHTML="X",o.appendChild(l),l.addEventListener("click",(()=>{o.remove()})),n.appendChild(o),c.push(o),e.innerHTML="",d.preventDefault()}))})(r,o)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWlCLFNBQVMsS0FBS3NELEVBQVdHLFFBQVEsSUFDaEVMLEVBQWN2RCxZQUFZeUQsR0FDMUIsRUFBWTdCLEtBQUs2QixHQUNqQkgsRUFBVzFELFVBQVksR0FDdkIyQixFQUFNTSxnQkFBZ0IsR0FDeEIsRUNYc0YyQixDQUFXUCxFQUFhRCxFQUFpQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvdG9kb3MuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvdGFza3MuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvdG9kYXkuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvd2Vlay5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmNsYXNzIHRvZG97XG4gICAgY29uc3RydWN0b3IoZGVzY3JpcHRpb24sIGR1ZURhdGUpe1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XG4gICAgfVxuXG4gICAgZ2V0IGdldERlc2NyaXB0aW9uKCl7XG4gICAgICAgIHJldHVybiB0aGlzLmRlc2NyaXB0aW9uO1xuICAgIH1cblxuICAgIGdldCBnZXREdWVEYXRlKCl7XG4gICAgICAgIHJldHVybiB0aGlzLmR1ZURhdGU7XG4gICAgfVxuXG4gICAgc2V0IHNldERlc2NyaXB0aW9uKG5ld0Rlc2NyaXB0aW9uKXtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uO1xuICAgIH1cblxuICAgIHNldCBzZXREdWVEYXRlKG5ld0R1ZURhdGUpe1xuICAgICAgICB0aGlzLmR1ZURhdGUgPSBuZXdEdWVEYXRlO1xuICAgIH1cbn1cblxuZXhwb3J0e1xuICAgIHRvZG9cbn07IiwiaW1wb3J0IHsgdG9kb0xpc3QgfSBmcm9tIFwiLi90b2RvTGlzdFwiO1xuaW1wb3J0IHsgdG9kbyB9IGZyb20gXCIuL3RvZG9zXCI7XG5cbi8vY29uc3QgdGFza0xpc3QgPSBbXTtcblxuY29uc3QgdGFzayA9IChwYXJlbnQsbmFtZSwgdGFza0xpc3QpID0+IHtcbiAgICBwYXJlbnQuaW5uZXJIVE1MID0gXCJcIjtcblxuICAgIGNvbnN0IGxpc3ROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGxpc3ROYW1lLmlubmVySFRNTCA9IG5hbWU7XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGxpc3ROYW1lKTtcblxuICAgIGNvbnN0IHZpZXdMaXN0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKHZpZXdMaXN0RGl2KTtcblxuICAgIGNvbnN0IGFkZFRhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBhZGRUYXNrLmlubmVySFRNTCA9ICcrQWRkIFRhc2snO1xuICAgIGFkZFRhc2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e2FkZFRhc2tQb3BVcCgpO30pO1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZChhZGRUYXNrKTtcbiBcbiAgICBjb25zdCBwb3B1cERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZChwb3B1cERpdik7XG4gICAgXG4gICAgY29uc3Qgdmlld0xpc3RmdW5jID0gKGxpc3QpID0+IHtcbiAgICAgICAgdmlld0xpc3REaXYuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnaXRlbScpO1xuICAgICAgICAgICAgaXRlbS5pbm5lckhUTUwgPSBsaXN0W2ldLmdldERlc2NyaXB0aW9uICsgXCIgICBcIiArIGxpc3RbaV0uZ2V0RHVlRGF0ZTtcbiAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnbGlzdC1pdGVtJylcbiAgICAgICAgICAgIHZpZXdMaXN0RGl2LmFwcGVuZENoaWxkKGl0ZW0pO1xuXG4gICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICAgICAgICAgICAgICBsZXQgZGVsZXRlSW5kZXggPSB0YXNrTGlzdC5pbmRleE9mKHRhc2tMaXN0W2ldKTtcbiAgICAgICAgICAgICAgICB0YXNrTGlzdC5zcGxpY2UoZGVsZXRlSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIHZpZXdMaXN0ZnVuYyh0YXNrTGlzdCk7IFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZW1vdmVkJyk7ICAgICBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmlld0xpc3RmdW5jKHRhc2tMaXN0KTtcblxuICAgIGNvbnN0IGFkZFRhc2tQb3BVcCA9ICgpID0+IHtcbiAgICAgICAgcG9wdXBEaXYuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgICAgIHBvcHVwRGl2LmFwcGVuZENoaWxkKGZvcm0pO1xuXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpO1xuXG4gICAgICAgIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBkYXRlLnNldEF0dHJpYnV0ZSgndHlwZScsICdkYXRlJyk7XG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZGF0ZSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzdWJtaXRUYXNrRnVuYyA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgbGV0IHRhc2tOYW1lID0gaW5wdXQudmFsdWU7XG4gICAgICAgICAgICBsZXQgdGFza0RhdGUgPSBkYXRlLnZhbHVlO1xuICAgICAgICAgICAgbGV0IG5ld1RvZG8gPSBuZXcgdG9kbyh0YXNrTmFtZSwgdGFza0RhdGUpO1xuICAgICAgICAgICAgdGFza0xpc3QucHVzaChuZXdUb2RvKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRhc2tMaXN0KTtcbiAgICAgICAgICAgIHBvcHVwRGl2LmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgICAgICB2aWV3TGlzdGZ1bmModGFza0xpc3QpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN1Ym1pdFRhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgc3VibWl0VGFzay5pbm5lckhUTUwgPSBcImFkZFwiO1xuICAgICAgICBzdWJtaXRUYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KT0+e3N1Ym1pdFRhc2tGdW5jKGV2ZW50KTt9KTtcbiAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChzdWJtaXRUYXNrKVxuXG4gICAgfVxufVxuXG5leHBvcnR7XG4gICAgdGFza1xufTsiLCJcbmNvbnN0IGRpc3BsYXlUb2RheXNUYXNrcyA9IChwYXJlbnQsIG5hbWUsIGxpc3QpID0+IHtcbiAgICBwYXJlbnQuaW5uZXJIVE1MID0gXCJcIjtcblxuICAgIGNvbnN0IGxpc3ROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGxpc3ROYW1lLmlubmVySFRNTCA9IG5hbWU7XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGxpc3ROYW1lKTtcblxuICAgIGNvbnN0IHZpZXdMaXN0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKHZpZXdMaXN0RGl2KTtcblxuICAgIHZpZXdMaXN0RGl2LmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGxpc3RbaV0uZ2V0RHVlRGF0ZSk7XG4gICAgICAgICAgICBpZihpc1RvZGF5KG5ldyBEYXRlKGxpc3RbaV0uZ2V0RHVlRGF0ZSsnVDAwOjAwOjAwJykpKXtcbiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnaXRlbScpO1xuICAgICAgICAgICAgICAgIGl0ZW0uaW5uZXJIVE1MID0gbGlzdFtpXS5nZXREZXNjcmlwdGlvbiArIFwiICAgXCIgKyBsaXN0W2ldLmdldER1ZURhdGU7XG4gICAgICAgICAgICAgICAgdmlld0xpc3REaXYuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbn1cblxuY29uc3QgaXNUb2RheSA9IChzb21lRGF0ZSkgPT4ge1xuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICBcbiAgICByZXR1cm4gc29tZURhdGUuZ2V0RGF0ZSgpID09IHRvZGF5LmdldERhdGUoKSAmJlxuICAgIHNvbWVEYXRlLmdldE1vbnRoKCkgPT0gdG9kYXkuZ2V0TW9udGgoKSAmJlxuICAgIHNvbWVEYXRlLmdldEZ1bGxZZWFyKCkgPT0gdG9kYXkuZ2V0RnVsbFllYXIoKVxufVxuXG5leHBvcnQge1xuICAgIGRpc3BsYXlUb2RheXNUYXNrc1xufSIsIlxuY29uc3QgZGlzcGxheVdlZWtzVGFza3MgPSAocGFyZW50LCBuYW1lLCBsaXN0KSA9PiB7XG4gICAgcGFyZW50LmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICBjb25zdCBsaXN0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBsaXN0TmFtZS5pbm5lckhUTUwgPSBuYW1lO1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZChsaXN0TmFtZSk7XG5cbiAgICBjb25zdCB2aWV3TGlzdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZCh2aWV3TGlzdERpdik7XG5cbiAgICB2aWV3TGlzdERpdi5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhsaXN0W2ldLmdldER1ZURhdGUpO1xuICAgICAgICAgICAgaWYoaXNXZWVrKG5ldyBEYXRlKGxpc3RbaV0uZ2V0RHVlRGF0ZSsnVDAwOjAwOjAwJykpKXtcbiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnaXRlbScpO1xuICAgICAgICAgICAgICAgIGl0ZW0uaW5uZXJIVE1MID0gbGlzdFtpXS5nZXREZXNjcmlwdGlvbiArIFwiICAgXCIgKyBsaXN0W2ldLmdldER1ZURhdGU7XG4gICAgICAgICAgICAgICAgdmlld0xpc3REaXYuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbn1cblxuY29uc3QgaXNXZWVrID0gKHNvbWVEYXRlKSA9PiB7XG4gICAgY29uc3QgdG9kYXlPYmogPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHRvZGF5RGF0ZSA9IHRvZGF5T2JqLmdldERhdGUoKTtcbiAgICBjb25zdCB0b2RheURheSA9IHRvZGF5T2JqLmdldERheSgpO1xuICBcbiAgICAvLyBnZXQgZmlyc3QgZGF0ZSBvZiB3ZWVrXG4gICAgY29uc3QgZmlyc3REYXlPZldlZWsgPSBuZXcgRGF0ZSh0b2RheU9iai5zZXREYXRlKHRvZGF5RGF0ZSAtIHRvZGF5RGF5KSk7XG4gIFxuICAgIC8vIGdldCBsYXN0IGRhdGUgb2Ygd2Vla1xuICAgIGNvbnN0IGxhc3REYXlPZldlZWsgPSBuZXcgRGF0ZShmaXJzdERheU9mV2Vlayk7XG4gICAgbGFzdERheU9mV2Vlay5zZXREYXRlKGxhc3REYXlPZldlZWsuZ2V0RGF0ZSgpICsgNik7XG4gIFxuICAgIC8vIGlmIGRhdGUgaXMgZXF1YWwgb3Igd2l0aGluIHRoZSBmaXJzdCBhbmQgbGFzdCBkYXRlcyBvZiB0aGUgd2Vla1xuICAgIHJldHVybiBzb21lRGF0ZSA+PSBmaXJzdERheU9mV2VlayAmJiBzb21lRGF0ZSA8PSBsYXN0RGF5T2ZXZWVrO1xufVxuXG5leHBvcnQge1xuICAgIGRpc3BsYXlXZWVrc1Rhc2tzXG59IiwiaW1wb3J0IHsgdGFzayB9IGZyb20gXCIuL3Rhc2tzXCI7XG5cbmxldCBwcm9qZWN0TGlzdCA9IFtdO1xuY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpO1xuXG5jb25zdCBhZGRQcm9qZWN0ID0gKGZvcm1QYXJlbnQsIHByb2plY3RQYXJlbnQpID0+IHtcbiAgICBmb3JtUGFyZW50LmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgIGZvcm1QYXJlbnQuYXBwZW5kQ2hpbGQoZm9ybSk7XG5cbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KTtcblxuICAgIGNvbnN0IGFkZFByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBhZGRQcm9qZWN0LmlubmVySFRNTCA9IFwiQWRkXCI7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChhZGRQcm9qZWN0KTtcbiAgICBcbiAgICBhZGRQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KT0+e1xuICAgICAgICBjb25zdCBuZXdQcm9qYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIG5ld1Byb2pidG4uaW5uZXJIVE1MID0gaW5wdXQudmFsdWU7XG4gICAgICAgIGNvbnN0IGFyciA9IFtdO1xuICAgICAgICBuZXdQcm9qYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9Pnt0YXNrKGNvbnRhaW5lciwgaW5wdXQudmFsdWUsIGFycik7fSk7XG4gICAgICAgIGNvbnN0IGRlbGV0ZVByb2pidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZGVsZXRlUHJvamJ0bi5pbm5lckhUTUwgPSAnWCc7XG4gICAgICAgIG5ld1Byb2pidG4uYXBwZW5kQ2hpbGQoZGVsZXRlUHJvamJ0bik7XG4gICAgICAgIGRlbGV0ZVByb2pidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e25ld1Byb2pidG4ucmVtb3ZlKCk7fSk7XG4gICAgICAgIHByb2plY3RQYXJlbnQuYXBwZW5kQ2hpbGQobmV3UHJvamJ0bik7XG4gICAgICAgIHByb2plY3RMaXN0LnB1c2gobmV3UHJvamJ0bik7XG4gICAgICAgIGZvcm1QYXJlbnQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0e1xuICAgIGFkZFByb2plY3QsIHByb2plY3RMaXN0XG59OyIsImltcG9ydCB7IHRvZG8gfSBmcm9tIFwiLi90b2Rvc1wiO1xuaW1wb3J0IHsgdG9kb0xpc3QgfSBmcm9tIFwiLi90b2RvTGlzdFwiO1xuaW1wb3J0IHsgdGFzayB9IGZyb20gXCIuL3Rhc2tzXCI7XG4vL2ltcG9ydCB7IHRhc2tMaXN0IH0gZnJvbSBcIi4vdGFza3NcIjtcbmltcG9ydCB7IGRpc3BsYXlUb2RheXNUYXNrcyB9IGZyb20gXCIuL3RvZGF5XCI7XG5pbXBvcnQgeyBkaXNwbGF5V2Vla3NUYXNrcyB9IGZyb20gXCIuL3dlZWtcIjtcbmltcG9ydCB7IGFkZFByb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0c1wiO1xuaW1wb3J0IHsgcHJvamVjdExpc3QgfSBmcm9tIFwiLi9wcm9qZWN0c1wiO1xuXG5jb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJyk7XG5jb25zdCBwcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzJyk7XG5jb25zdCBmb3JtUGFyZW50RCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtUGFyZW50RGl2Jyk7XG5cbi8vY29uc3QgdG9kYXlMaXN0ID0gdGFza0xpc3Q7IFxuY29uc3QgYWxsUHJvamVjdCA9IHByb2plY3RMaXN0O1xuY29uc3QgdG9kYXlMaXN0ID0gW107XG5cbmNvbnN0IGluYm94YnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luYm94JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3Rhc2soY29udGFpbmVyLCAnSW5ib3gnLCB0b2RheUxpc3QpO30pO1xuY29uc3QgdG9kYXlidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kYXknKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57ZGlzcGxheVRvZGF5c1Rhc2tzKGNvbnRhaW5lciwgJ1RvZGF5JywgdG9kYXlMaXN0KTt9KTtcbmNvbnN0IHdlZWtidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2VlaycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntkaXNwbGF5V2Vla3NUYXNrcyhjb250YWluZXIsICdXZWVrJywgdG9kYXlMaXN0KTt9KTtcblxuY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtcHJvamVjdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PnthZGRQcm9qZWN0KGZvcm1QYXJlbnRELCBwcm9qZWN0Q29udGFpbmVyKTt9KTtcblxuIl0sIm5hbWVzIjpbInRvZG8iLCJjb25zdHJ1Y3RvciIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInRoaXMiLCJnZXREZXNjcmlwdGlvbiIsImdldER1ZURhdGUiLCJzZXREZXNjcmlwdGlvbiIsIm5ld0Rlc2NyaXB0aW9uIiwic2V0RHVlRGF0ZSIsIm5ld0R1ZURhdGUiLCJ0YXNrIiwicGFyZW50IiwibmFtZSIsInRhc2tMaXN0IiwiaW5uZXJIVE1MIiwibGlzdE5hbWUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsInZpZXdMaXN0RGl2IiwiYWRkVGFzayIsImFkZEV2ZW50TGlzdGVuZXIiLCJhZGRUYXNrUG9wVXAiLCJwb3B1cERpdiIsInZpZXdMaXN0ZnVuYyIsImxpc3QiLCJpIiwibGVuZ3RoIiwiaXRlbSIsImNsYXNzTGlzdCIsImFkZCIsImRlbGV0ZUluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImNvbnNvbGUiLCJsb2ciLCJmb3JtIiwiaW5wdXQiLCJzZXRBdHRyaWJ1dGUiLCJkYXRlIiwic3VibWl0VGFzayIsImV2ZW50IiwidGFza05hbWUiLCJ2YWx1ZSIsInRhc2tEYXRlIiwibmV3VG9kbyIsInB1c2giLCJwcmV2ZW50RGVmYXVsdCIsInN1Ym1pdFRhc2tGdW5jIiwiaXNUb2RheSIsInNvbWVEYXRlIiwidG9kYXkiLCJEYXRlIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJpc1dlZWsiLCJ0b2RheU9iaiIsInRvZGF5RGF0ZSIsInRvZGF5RGF5IiwiZ2V0RGF5IiwiZmlyc3REYXlPZldlZWsiLCJzZXREYXRlIiwibGFzdERheU9mV2VlayIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9qZWN0Q29udGFpbmVyIiwiZm9ybVBhcmVudEQiLCJ0b2RheUxpc3QiLCJnZXRFbGVtZW50QnlJZCIsImRpc3BsYXlUb2RheXNUYXNrcyIsImRpc3BsYXlXZWVrc1Rhc2tzIiwiZm9ybVBhcmVudCIsInByb2plY3RQYXJlbnQiLCJhZGRQcm9qZWN0IiwibmV3UHJvamJ0biIsImFyciIsImRlbGV0ZVByb2pidG4iLCJyZW1vdmUiXSwic291cmNlUm9vdCI6IiJ9